{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <title>{% block title %}Meu App Django{% endblock %}</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <style>
      body {
        display: flex;
      }

      .sidebar {
        width: 250px;
        height: 100vh;
        background-color: #f8f9fa;
        padding: 1rem;
        border-right: 1px solid #dee2e6;
        transition: width 0.3s;
      }

      .sidebar.minimized {
        width: 80px;
      }

      .sidebar .nav-link {
        color: #000;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px;
        border-radius: 8px;
        transition: background 0.3s;
        white-space: nowrap;
        overflow: hidden;
      }

      .sidebar.minimized .nav-link span {
        display: none;
      }

      .sidebar .nav-link:hover {
        background-color: #e2e6ea;
      }

      .sidebar .nav-link.active {
        background-color: rgb(35, 119, 245);
        color: #fff;
      }

      .sidebar .nav-link.active i {
        color: #fff;
      }

      .sidebar .sidebar-header {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 20px;
      }

      .sidebar.minimized .sidebar-header span {
        display: none;
      }

      .content-wrapper {
        flex: 1;
        display: flex;
        flex-direction: column;
        width: 100%;
      }

      main {
        flex: 1;
        padding: 2rem;
      }
    </style>
  </head>
  <body>
    <!-- Sidebar -->
    <div id="sidebar" class="sidebar">
      <div class="sidebar-header">
        <img src="{% static 'dengue_tracker_app/images/mosquito.png' %}" alt="Mosquito" width="40" />
        <span class="fw-bold h5 mt-2">Navegação</span>
      </div>
      <hr />
      <nav class="nav flex-column">
        <a href="#" class="nav-link active">
          <i class="bi bi-house-door-fill"></i> <span>Pagina Inicial</span>
        </a>
        <a href="#" class="nav-link">
          <i class="bi bi-virus2"></i> <span>Casos Registrados</span>
        </a>
        <a href="#" class="nav-link">
          <i class="bi bi-bar-chart-line-fill"></i> <span>Dashboards</span>
        </a>
      </nav>
    </div>

    <!-- Conteúdo principal -->
    <div class="content-wrapper">
      <!-- Navbar no topo -->
      <nav class="navbar navbar-expand-lg navbar-light bg-light px-3">
        <button id="toggleSidebar" class="btn btn-outline-secondary me-3">
          <i class="bi bi-list"></i>
        </button>
        <a class="navbar-brand" href="#">Sistema de Dengue - Dracena</a>
      </nav>

      <!-- Conteúdo da página -->
      <main>
        {% block content %}{% endblock %}
      </main>
    </div>

    <!-- Scripts -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
    ></script>
    <script>
      const toggleButton = document.getElementById('toggleSidebar');
      const sidebar = document.getElementById('sidebar');

      toggleButton.addEventListener('click', () => {
        sidebar.classList.toggle('minimized');
      });
    </script>
  </body>
</html>
